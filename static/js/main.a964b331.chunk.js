(this["webpackJsonpgames-app"]=this["webpackJsonpgames-app"]||[]).push([[0],{69:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(14),o=t.n(i),s=t(22),c=(t(69),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,114)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,i=a.getLCP,o=a.getTTFB;t(e),n(e),r(e),i(e),o(e)}))}),l=t(17),d=t(7),m=t(15),g=t(60),u=t(2),p=["layout","component"],f=function(e){var a=e.layout,t=e.component,n=Object(g.a)(e,p),r=a,i=t;return Object(u.jsx)(d.a,Object(m.a)(Object(m.a)({},n),{},{render:function(e){return Object(u.jsx)(r,{children:Object(u.jsx)(i,Object(m.a)({},e))})}}))},h=t(109),b=t(18),j=t(33),x=t.n(j),v=t(111),O=t(112),y=t(105),w=t(107),I=t(108),S=t(55),A=t.n(S),W=t(110),D=t(106),L=t(57),E=t.n(L),N=t(103),G=Object(N.a)({root:{width:300,height:window.innerHeight,marginTop:20,"@media only screen and (max-width:600px)":{width:"150px"},"@media only screen and (max-width:460px)":{width:"100%",height:"315px"}},searchbar:{background:"#0000000a",borderRadius:12,height:44,margin:10,"&.MuiInputBase-root":{"@media only screen and (max-width:460px)":{width:"100%"}}},favorites:{color:"#535050",textDecoration:"none","& .MuiListItemIcon-root":{minWidth:30}},categories:{color:"#535050",textDecoration:"none","& .MuiListItemIcon-root":{minWidth:30}}}),T=t(56),_=t.n(T);var C=Object(l.b)((function(e){return{games:e.gameInfo.games,categories:e.gameInfo.categories,isLoading:e.gameInfo.is_loading,favorites:e.favorites.gameIds}}))((function(e){var a=G(),t=Object(n.useState)(""),r=Object(b.a)(t,2),i=r[0],o=r[1];return Object(u.jsx)(y.a,{className:a.root,children:Object(u.jsxs)(v.a,{children:[Object(u.jsx)("form",{action:"/search/".concat(i),children:Object(u.jsxs)(O.a,{className:a.searchbar,children:[Object(u.jsx)(W.a,{className:a.input,placeholder:"Search Games",inputProps:{"aria-label":"search games"},value:i,onChange:function(e){return function(e){o(e.target.value)}(e)}}),Object(u.jsx)(D.a,{type:"submit",className:a.iconButton,"aria-label":"search",children:Object(u.jsx)(A.a,{})})]})}),e.categories.map((function(e){return Object(u.jsx)(s.b,{to:"All games"===e.nameKey?"/":"/category/".concat(e.nameKey),className:"".concat(a.categories," "),children:Object(u.jsxs)(O.a,{children:[Object(u.jsx)(w.a,{children:"All games"===e.nameKey&&Object(u.jsx)(_.a,{fontSize:"small",color:"primary"})}),Object(u.jsx)(I.a,{variant:"inherit",children:e.nameKey})]})},x()())})),Object(u.jsx)(s.b,{to:"/favorites",className:a.favorites,children:Object(u.jsxs)(O.a,{children:[Object(u.jsx)(w.a,{children:Object(u.jsx)(E.a,{fontSize:"small",color:"secondary"})}),Object(u.jsxs)(I.a,{variant:"inherit",noWrap:!0,children:["Favorites (",e.favorites.length,")"]})]})})]})})})),F="GAMES_DATA_LOADING",k="SET_GAMES_DATA",K="TOGGLE_FAVORITE",z="SET_FAVORITES",M="SET_FAVORITES_DATA",R="SET_SEARCHED_DATA",B=function(e){return{type:F}};var J,P=Object(l.b)((function(e){return Object(m.a)({},e)}),(function(e){return{gamesDataLoading:function(){return e(B)},setGamesData:function(a,t){return e(function(e,a){return{type:k,payload:{data:e,category:a}}}(a,t))},setFavorites:function(a){return e(function(e){return{type:z,payload:e}}(a))},setFavoritesData:function(a,t){return e(function(e,a){return{type:M,payload:{data:e,favorites:a}}}(a,t)).favorites},setSearchedData:function(a,t){return e(function(e,a){return{type:R,payload:{data:e,search:a}}}(a,t))}}}))((function(e){var a=Object(d.g)(),t=a.search,r=a.category,i=Object(d.f)();return Object(n.useEffect)((function(a){var t=localStorage.getItem("favorites");t=t?JSON.parse(t):[],e.setFavorites(t)}),[]),Object(n.useEffect)((function(a){localStorage.setItem("favorites",JSON.stringify(e.favorites.gameIds))}),[e.favorites.gameIds]),Object(n.useEffect)((function(){console.log(e.favorites.gameIds);fetch("".concat(window.location.origin,"/gamesList.json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(a){t?e.setSearchedData(a,t):"/favorites"===i.pathname?e.setFavoritesData(a,e.favorites):e.setGamesData(a,r)})).catch((function(e){return console.log(e)}))}),[i.pathname,e.favorites]),Object(u.jsxs)(h.a,{container:!0,children:[Object(u.jsx)(C,{}),e.children]})})),V=t(26),H=Object(N.a)((J={homeContainer:{flex:1,marginLeft:20,marginRight:20,display:"flex",marginTop:20,alignItems:"flex-start",background:"#383838",padding:4,"@media only screen and (max-width:992px)":{flexDirection:"column"}},large:{width:"50%",display:"flex",alignItems:"flex-start",flexWrap:"wrap","@media only screen and (max-width:992px)":{width:"100%"}},singlelarge:{width:"25%"},gameLargeImg:{width:"-webkit-fill-available",display:"block",flexGrow:1,border:"4px solid #383838",boxSizing:"border-box"},small:{width:"50%",display:"flex",alignItems:"flex-start",flexWrap:"wrap","@media only screen and (max-width:992px)":{width:"100%"}},gameSmallImg:{display:"block",flexGrow:1,border:"4px solid #383838",boxSizing:"border-box",width:"-webkit-fill-available"},gameName:{position:"absolute",bottom:5,color:"white",left:6,fontSize:12}},Object(V.a)(J,"singlelarge",{position:"relative"}),Object(V.a)(J,"smallImgWrapper",{position:"relative",maxWidth:"25%",flexGrow:1,"@media only screen and (max-width:992px)":{maxWidth:"unset",minWidth:"25%",flexGrow:1}}),Object(V.a)(J,"largeImgWrapper",{position:"relative",width:"50%"}),Object(V.a)(J,"favoriteIcon",{position:"absolute",top:10,right:10,width:16,opacity:.7,cursor:"pointer","&:hover":{opacity:1}}),J)),q=Object(N.a)({large:{width:"50%",display:"flex",alignItems:"flex-start",flexWrap:"wrap","@media only screen and (max-width:992px)":{width:"100%"}},singlelarge:{width:"25%",position:"relative"},gameLargeImg:{width:"-webkit-fill-available",display:"block",flexGrow:1,border:"4px solid #383838",boxSizing:"border-box"},small:{width:"50%",display:"flex",alignItems:"flex-start",flexWrap:"wrap","@media only screen and (max-width:992px)":{width:"100%"}},gameSmallImg:{display:"block",flexGrow:1,border:"4px solid #383838",boxSizing:"border-box",width:"-webkit-fill-available"},gameName:{position:"absolute",bottom:5,color:"white",left:6,fontSize:12},smallImgWrapper:{position:"relative",maxWidth:"25%",flexGrow:1,"@media only screen and (max-width:992px)":{maxWidth:"unset",minWidth:"25%",flexGrow:1}},largeImgWrapper:{position:"relative",width:"50%"},favoriteIcon:{position:"absolute",top:10,right:10,width:16,opacity:.9,cursor:"pointer","&:hover":{opacity:1}},filteredClass:{minWidth:"25%",position:"relative",flexGrow:1}});var Q=Object(l.b)((function(e){return Object(m.a)(Object(m.a)({},e),{},{favorites:e.favorites})}),(function(e){return{toggleFavorite:function(a){return e(function(e){return{type:K,payload:e}}(a))}}}))((function(e){var a=e.wrapperClass,t=e.isLarge,n=e.game,r=q(),i=e.favorites.gameIds;return Object(u.jsxs)("div",{className:a,children:[Object(u.jsx)("img",{className:t?r.gameLargeImg:r.gameSmallImg,alt:n.name,src:"/assets/".concat(t?n.img.large:n.img.small)}),Object(u.jsx)("span",{className:r.gameName,children:n.name}),Object(u.jsx)("img",{className:r.favoriteIcon,src:"/assets/icons/".concat(i.includes(n.id)?"icon-favorites-active.svg":"icon-favorites-noactive.svg"),alt:"favorite",onClick:function(a){return t=n.id,void e.toggleFavorite(t);var t}})]})}));var U=Object(l.b)((function(e){return{games:e.gameInfo.games,categories:e.gameInfo.categories,isLoading:e.gameInfo.is_loading}}))((function(e){var a=H();return Object(u.jsx)("div",{className:a.homeContainer,children:!e.isLoading&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:e.games.large.length>1?a.large:a.singlelarge,children:e.games.large.map((function(t){return Object(u.jsx)(Q,{game:t,isLarge:!0,wrapperClass:1===e.games.large.length?a.singlelargeWrapper:a.largeImgWrapper},x()())}))}),Object(u.jsx)("div",{className:a.small,children:e.games.small.map((function(e){return Object(u.jsx)(Q,{game:e,isLarge:!1,wrapperClass:a.smallImgWrapper},x()())}))})]})})})),X=function(e){return Object(u.jsxs)(d.c,{children:[Object(u.jsx)(f,{exact:!0,path:"/",layout:P,component:U}),Object(u.jsx)(f,{path:"/category/:category",layout:P,component:U}),Object(u.jsx)(f,{path:"/search/:search",layout:P,component:U}),Object(u.jsx)(f,{path:"/favorites",layout:P,component:U})]})},Y=t(36),Z=t(58),$={is_loading:!0,games:[],categories:[]},ee=t(59),ae={gameIds:[]},te=Object(Y.b)({gameInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case F:return Object(m.a)(Object(m.a)({},e),{},{is_loading:!0});case k:var t=a.payload.data,n=a.payload.category?a.payload.category:"All games",r=t.categories.filter((function(e){return e.nameKey===n})),i=Object(b.a)(r,1),o=i[0],s=o.games.map((function(e){var a=t.games.filter((function(a){return a.id===e.id})),n=Object(b.a)(a,1)[0];return n.top=e.top,n})),c=[],l=[];s.forEach((function(e){e.top?c.push(e):l.push(e)}));var d=t.categories.map((function(e){return{id:e.id,nameKey:e.nameKey}}));return{is_loading:!1,games:{small:l,large:c},categories:d,allData:a.payload.data};case M:var g=a.payload.data,u=g.categories.filter((function(e){return"All games"===e.nameKey})),p=Object(b.a)(u,1),f=p[0],h=f.games.map((function(e){var a=g.games.filter((function(a){return a.id===e.id})),t=Object(b.a)(a,1)[0];return t.top=e.top,t}));h=a.payload.favorites.gameIds.map((function(e){var a=g.games.filter((function(a){return a.id===e}));return Object(b.a)(a,1)[0]}));var j=[],x=[];h.forEach((function(e){e.top?j.push(e):x.push(e)}));var v=g.categories.map((function(e){return{id:e.id,nameKey:e.nameKey}}));return{is_loading:!1,games:{small:x,large:j},categories:v,allData:a.payload.data};case R:var O=a.payload.data;console.log(a.payload.searchedGame,30);var y=O.categories.filter((function(e){return"All games"===e.nameKey})),w=Object(b.a)(y,1),I=w[0],S=I.games.map((function(e){var a=O.games.filter((function(a){return a.id===e.id})),t=Object(b.a)(a,1)[0];return t.top=e.top,t}));S=S.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a.payload.search.toLowerCase())})),console.log(S,524968484684847);var A=[],W=[];S.forEach((function(e){e.top?A.push(e):W.push(e)}));var D=O.categories.map((function(e){return{id:e.id,nameKey:e.nameKey}}));return{is_loading:!1,games:{small:A,large:W},categories:D,allData:a.payload.data};default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:return{gameIds:a.payload};case K:var t=a.payload;return{gameIds:e.gameIds.includes(t)?e.gameIds.filter((function(e){return e!==t})):[].concat(Object(ee.a)(e.gameIds),[t])};default:return e}}}),ne=Object(Y.c)(te,Object(Y.a)(Z.a));o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(l.a,{store:ne,children:Object(u.jsx)(s.a,{children:Object(u.jsx)(X,{})})})}),document.getElementById("root")),c()}},[[77,1,2]]]);
//# sourceMappingURL=main.a964b331.chunk.js.map